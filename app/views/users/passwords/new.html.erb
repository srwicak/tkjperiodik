<% content_for :title do %>
  Lupa Kata Sandi
<% end %>
<% content_for :page_title do %>
  Pengajuan Kata Sandi Baru
<% end %>
<%=render "layouts/auth_form" do %>
  <%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :post }) do |f| %>
    <%= render "users/shared/error_messages", resource: resource %>
    <div>
      <label class="form-control w-full">
        <div class="label">
          <span class="label-text">NRP/NIP</span>
        </div>
        <%= f.text_field :identity, 
          id: "identity", 
          autofocus: true,
          class: "input input-bordered w-full", 
          placeholder: "Masukkan NRP/NIP", 
          inputmode: 'numeric', 
          pattern: '\d*', 
          oninput: "this.value = this.value.replace(/[^0-9]/g, '');" 
          %>
      </label>
    </div>
    <div>
      <label class="form-control w-full">
        <div class="label">
          <span class="label-text">Alamat <span class="italic">E-mail</span></span>
        </div>
        <div role="alert" class="alert alert-info mb-2 rounded-md">
          <span class="text-sm">Jika setelah daftar kemudian langsung lupa kata sandi, maka kosongkan alamat email.</span>
        </div>
        <%= f.email_field :email, autocomplete: "email", id: "email", class: "input input-bordered w-full", placeholder: "Masukkan alamat email" %>
      </label>
    </div>
    <div>
      <label class="form-control w-full">
        <div class="label">
          <span class="label-text">Kata Sandi Baru</span>
        </div>
        <div role="alert" class="alert alert-warning mb-2  rounded-md">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
          </svg>
          <span class="text-sm"><span class="font-bold">JANGAN</span> gunakan kata sandi yang Anda gunakan di Aplikasi Kepegawaian POLRI lainnya</span>
        </div>
        <%= f.password_field :password, autocomplete: "new-password", id: "password", class: "input input-bordered w-full", placeholder: "Masukkan kata sandi baru" %>
      </label>
    </div>
    <div class="mb-4">
      <label class="form-control w-full">
        <div class="label">
          <span class="label-text">Ulang Kata Sandi Baru</span>
        </div>
        <%= f.password_field :password_confirmation, autocomplete: "new-password", id: "password_confirmation", class: "input input-bordered w-full", placeholder: "Masukkan ulang kata sandi baru" %>
      </label>
    </div>
    <div class="mb-4">
      <%= f.submit "Kirim Permintaan", class: "bg-red-500 hover:bg-red-700 text-white font-bold p-3 rounded-lg rounded focus:outline-none focus:shadow-outline w-full cursor-pointer text-lg" %>
    </div>
  <% end %>
<% end %>
